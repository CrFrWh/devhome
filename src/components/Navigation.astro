---
const currentPath = Astro.url.pathname; // e.g., "/topics/javascript/js-arrays"

const links = [
  { href: "/", label: "Home" },
  { href: "/topics", label: "Topics" },
  { href: "/blog", label: "Blog" },
  { href: "/showcase", label: "Showcase" },
];

function isActive(href: string) {
  // Active for exact match or section root
  if (href === "/") return currentPath === "/";
  return currentPath === href || currentPath.startsWith(href + "/");
}
---

<nav class="nav">
  {
    links.map((l) => (
      <a href={l.href} class={`link${isActive(l.href) ? " active" : ""}`}>
        {l.label}
      </a>
    ))
  }
</nav>

<style>
  .nav {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    border-bottom: 1px solid #30363d;
  }
  .link {
    color: #e6edf3;
    text-decoration: none;
    opacity: 0.85;
  }
  .link:hover {
    opacity: 1;
  }
  .link.active {
    font-weight: 600;
    border-bottom: 2px solid #58a6ff;
  }
</style>
